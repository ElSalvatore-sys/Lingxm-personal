<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    span.s1 {font-kerning: none}
    span.s2 {font: 24.0px 'Apple Color Emoji'; font-kerning: none}
  </style>
</head>
<body>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>#!/usr/bin/env python3</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>â€œâ€â€</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>Automated Vocabulary Generation with Claude Code</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>Safety features: Validation, logging, error recovery, progress tracking</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>"""</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>import os</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>import sys</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>import json</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>import subprocess</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>import time</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>from datetime import datetime</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>class VocabularyAutomation:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>def __init__(self, test_mode=True):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.test_mode = test_mode</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.base_dir = "/Users/eldiaploo/Desktop/LingXM-Personal"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.prompts_dir = f"{self.base_dir}/prompts_batch2-25"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.output_dir = f"{self.base_dir}/public/data/universal"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log_file = f"{self.base_dir}/automation_log.txt"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.languages = {</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'en': ('English', 'generation/en-a1', 2, 25),</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'de': ('German', 'generation/de-a1', 2, 25),</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'es': ('Spanish', 'generation/es-a1', 2, 25),</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'ar': ('Arabic', 'generation/ar-a1', 2, 25),</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'fr': ('French', 'generation/fr-a1', 3, 25),</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'it': ('Italian', 'generation/it-a1', 2, 25),</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'ru': ('Russian', 'generation/ru-a1', 2, 25),</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'pl': ('Polish', 'generation/pl-a1', 2, 25),</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>'fa': ('Persian', 'generation/fa-a1', 2, 25)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.progress_file = f"{self.base_dir}/automation_progress.json"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.load_progress()</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>def log(self, message):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>"""Log to both console and file"""</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>timestamp = datetime.now().strftime("%Y-%m-%d %H:%M:%S")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>log_msg = f"[{timestamp}] {message}"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>print(log_msg)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>with open(self.log_file, 'a') as f:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>f.write(log_msg + "\n")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>def load_progress(self):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>"""Load progress from file to support resuming"""</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if os.path.exists(self.progress_file):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>with open(self.progress_file, 'r') as f:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>self.progress = json.load(f)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">ğŸ“Š</span><span class="s1"><b> Loaded progress: {sum(len(v) for v in self.progress.values())} batches completed")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>else:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.progress = {lang: [] for lang in self.languages.keys()}</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>def save_progress(self, lang_code, batch_num):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>"""Save progress after each successful batch"""</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if lang not in self.progress:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.progress[lang] = []</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if batch_num not in self.progress[lang]:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.progress[lang].append(batch_num)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>with open(self.progress_file, 'w') as f:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>json.dump(self.progress, f, indent=2)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>def validate_json(self, filepath):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>"""Validate JSON file structure"""</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>try:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>with open(filepath, 'r', encoding='utf-8') as f:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>data = json.load(f)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if not isinstance(data, list):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>return False, "Not a list"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if len(data) != 20:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>return False, f"Expected 20 words, got {len(data)}"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>required_fields = ['id', 'word', 'translations', 'explanation', 'examples', 'cefrLevel']</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>for field in required_fields:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if field not in data[0]:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>return False, f"Missing field: {field}"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if len(data[0]['translations']) != 9:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>return False, f"Expected 9 translations, got {len(data[0]['translations'])}"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return True, "Valid"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>except Exception as e:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return False, str(e)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>def run_command(self, cmd, cwd=None):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>"""Run shell command and return result"""</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>try:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>result = subprocess.run(</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>cmd,</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>shell=True,</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>cwd=cwd or self.base_dir,</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>capture_output=True,</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>text=True,</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>timeout=300</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return result.returncode == 0, result.stdout, result.stderr</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>except subprocess.TimeoutExpired:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return False, "", "Command timed out"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>def checkout_branch(self, branch):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>"""Switch to language branch"""</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">ğŸ”€</span><span class="s1"><b> Checking out branch: {branch}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>success, stdout, stderr = self.run_command(f"git checkout {branch}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if not success:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">âŒ</span><span class="s1"><b> Failed to checkout {branch}: {stderr}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return False</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>return True</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>def process_batch(self, lang_code, lang_name, batch_num):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>"""Process a single batch"""</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if batch_num in self.progress.get(lang_code, []):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">â­ï¸</span><span class="s1"><b><span class="Apple-converted-space">Â  </span>{lang_name} batch {batch_num} already completed, skipping")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return True</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">ğŸš€</span><span class="s1"><b> Processing {lang_name} batch {batch_num}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>prompt_file = f"{self.prompts_dir}/{lang_code}_batch{batch_num:02d}.md"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if not os.path.exists(prompt_file):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">âŒ</span><span class="s1"><b> Prompt file not found: {prompt_file}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return False</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>with open(prompt_file, 'r', encoding='utf-8') as f:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>prompt = f.read()</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>output_file = f"{self.output_dir}/{lang_code}-a1-batch{batch_num}.json"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">ğŸ“</span><span class="s1"><b> Prompt: {prompt_file}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">ğŸ“„</span><span class="s1"><b> Expected output: {output_file}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">â¸ï¸</span><span class="s1"><b><span class="Apple-converted-space">Â  </span>MANUAL STEP REQUIRED:")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f" <span class="Apple-converted-space">Â  </span>1. Copy the prompt from: {prompt_file}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f" <span class="Apple-converted-space">Â  </span>2. Paste into Claude Code terminal")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f" <span class="Apple-converted-space">Â  </span>3. Wait for file to be generated: {output_file}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">â³</span><span class="s1"><b> Waiting for file to be created...")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>input(f" <span class="Apple-converted-space">Â  </span>Press ENTER when {output_file} is ready...")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if not os.path.exists(output_file):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">âŒ</span><span class="s1"><b> File not found: {output_file}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return False</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>valid, msg = self.validate_json(output_file)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if not valid:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">âŒ</span><span class="s1"><b> Validation failed: {msg}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return False</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">âœ…</span><span class="s1"><b> Validation passed!")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>commit_msg = f"feat(vocab): {lang_name} A1 batch {batch_num} (words {(batch_num-1)*20+1}-{batch_num*20})"</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">ğŸ“¦</span><span class="s1"><b> Committing to git...")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>success, _, stderr = self.run_command(f"git add {output_file}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if not success:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">âŒ</span><span class="s1"><b> Git add failed: {stderr}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return False</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>success, _, stderr = self.run_command(f'git commit -m "{commit_msg}"')</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if not success:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">âŒ</span><span class="s1"><b> Git commit failed: {stderr}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return False</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">âœ…</span><span class="s1"><b> Batch {batch_num} complete!")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.save_progress(lang_code, batch_num)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>return True</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>def run_test_mode(self):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>"""Test with just English batch 2"""</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log("=" * 60)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log("</b></span><span class="s2">ğŸ§ª</span><span class="s1"><b> TEST MODE: Running English batch 2 only")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log("=" * 60)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>lang_code = 'en'</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>lang_name, branch, start, end = self.languages[lang_code]</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if not self.checkout_branch(branch):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return False</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>success = self.process_batch(lang_code, lang_name, 2)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>if success:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log("=" * 60)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log("</b></span><span class="s2">âœ…</span><span class="s1"><b> TEST MODE SUCCESSFUL!")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log("=" * 60)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log("Ready to run full automation!")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return True</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>else:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log("</b></span><span class="s2">âŒ</span><span class="s1"><b> TEST MODE FAILED - Fix issues before continuing")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>return False</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>def run_full_automation(self):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>"""Run all languages and batches"""</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log("=" * 60)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log("</b></span><span class="s2">ğŸš€</span><span class="s1"><b> FULL AUTOMATION MODE")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log("=" * 60)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>total_batches = sum((end - start + 1) for _, _, start, end in self.languages.values())</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>completed = sum(len(v) for v in self.progress.values())</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">ğŸ“Š</span><span class="s1"><b> Progress: {completed}/{total_batches} batches completed")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>for lang_code, (lang_name, branch, start, end) in self.languages.items():</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"\n{'='*60}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">ğŸ“š</span><span class="s1"><b> Starting {lang_name} ({lang_code})")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"{'='*60}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if not self.checkout_branch(branch):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">âŒ</span><span class="s1"><b> Skipping {lang_name} due to branch error")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>continue</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>for batch_num in range(start, end + 1):</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>success = self.process_batch(lang_code, lang_name, batch_num)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>if not success:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">âŒ</span><span class="s1"><b> Failed at {lang_name} batch {batch_num}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">ğŸ’¾</span><span class="s1"><b> Progress saved. You can resume later.")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </span>return False</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>time.sleep(2)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">ğŸ“¤</span><span class="s1"><b> Pushing {lang_name} branch...")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>success, _, stderr = self.run_command(f"git push origin {branch}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  </span>if not success:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  Â  Â  Â  Â  </span>self.log(f"</b></span><span class="s2">âš ï¸</span><span class="s1"><b><span class="Apple-converted-space">Â  </span>Push failed: {stderr}")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"><b><span class="Apple-converted-space">Â Â  Â  Â  Â </span></b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log("=" * 60)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log("</b></span><span class="s2">ğŸ‰</span><span class="s1"><b> FULL AUTOMATION COMPLETE!")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>self.log("=" * 60)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>return True</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>def main():</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>if len(sys.argv) &gt; 1 and sys.argv[1] == "--full":</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>automation = VocabularyAutomation(test_mode=False)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>automation.run_full_automation()</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>else:</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>print("</b></span><span class="s2">ğŸ§ª</span><span class="s1"><b> Running in TEST MODE (English batch 2 only)")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>print(" <span class="Apple-converted-space">Â  </span>To run full automation: python3 automate_vocabulary.py --full")</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>print()</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>automation = VocabularyAutomation(test_mode=True)</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  Â  Â  </span>automation.run_test_mode()</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000; min-height: 29.0px"><span class="s1"></span><br></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b>if __name__ == "__main__":</b><b></b></span></h1>
<h1 style="margin: 0.0px 0.0px 16.1px 0.0px; font: 24.0px Times; -webkit-text-stroke: #000000"><span class="s1"><b><span class="Apple-converted-space">Â  Â  </span>main()</b><b></b></span></h1>
</body>
</html>
